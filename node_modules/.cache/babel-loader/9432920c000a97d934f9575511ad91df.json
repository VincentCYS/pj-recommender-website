{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.PortalContext = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf3 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _PortalManager = _interopRequireDefault(require(\"./PortalManager\"));\n\nvar _jsxFileName = \"/Users/trensik/dev/react-native-paper/src/components/Portal/PortalHost.tsx\";\nvar PortalContext = React.createContext(null);\nexports.PortalContext = PortalContext;\n\nvar PortalHost = function (_React$Component) {\n  (0, _inherits2.default)(PortalHost, _React$Component);\n\n  function PortalHost() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    (0, _classCallCheck2.default)(this, PortalHost);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = (0, _possibleConstructorReturn2.default)(this, (_getPrototypeOf2 = (0, _getPrototypeOf3.default)(PortalHost)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"setManager\", function (manager) {\n      _this.manager = manager;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"mount\", function (children) {\n      var key = _this.nextKey++;\n\n      if (_this.manager) {\n        _this.manager.mount(key, children);\n      } else {\n        _this.queue.push({\n          type: 'mount',\n          key: key,\n          children: children\n        });\n      }\n\n      return key;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"update\", function (key, children) {\n      if (_this.manager) {\n        _this.manager.update(key, children);\n      } else {\n        var op = {\n          type: 'mount',\n          key: key,\n          children: children\n        };\n\n        var index = _this.queue.findIndex(function (o) {\n          return o.type === 'mount' || o.type === 'update' && o.key === key;\n        });\n\n        if (index > -1) {\n          _this.queue[index] = op;\n        } else {\n          _this.queue.push(op);\n        }\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"unmount\", function (key) {\n      if (_this.manager) {\n        _this.manager.unmount(key);\n      } else {\n        _this.queue.push({\n          type: 'unmount',\n          key: key\n        });\n      }\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"nextKey\", 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"queue\", []);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"manager\", void 0);\n    return _this;\n  }\n\n  (0, _createClass2.default)(PortalHost, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var manager = this.manager;\n      var queue = this.queue;\n\n      while (queue.length && manager) {\n        var action = queue.pop();\n\n        if (action) {\n          switch (action.type) {\n            case 'mount':\n              manager.mount(action.key, action.children);\n              break;\n\n            case 'update':\n              manager.update(action.key, action.children);\n              break;\n\n            case 'unmount':\n              manager.unmount(action.key);\n              break;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(PortalContext.Provider, {\n        value: {\n          mount: this.mount,\n          update: this.update,\n          unmount: this.unmount\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        }\n      }, React.createElement(_reactNative.View, {\n        style: styles.container,\n        collapsable: false,\n        pointerEvents: \"box-none\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        }\n      }, this.props.children), React.createElement(_PortalManager.default, {\n        ref: this.setManager,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        }\n      }));\n    }\n  }]);\n  return PortalHost;\n}(React.Component);\n\nexports.default = PortalHost;\n(0, _defineProperty2.default)(PortalHost, \"displayName\", 'Portal.Host');\n\nvar styles = _reactNative.StyleSheet.create({\n  container: {\n    flex: 1\n  }\n});","map":null,"metadata":{},"sourceType":"script"}