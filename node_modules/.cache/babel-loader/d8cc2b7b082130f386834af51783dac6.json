{"ast":null,"code":"import cookie from 'react-cookies';\nimport API from './helpers/api.js';\nvar Auth = {\n  _isAuthenticated: false,\n  authenticate: function authenticate(name, pass, cb) {\n    this._isAuthenticated = true;\n    API.create(\"/login\", {\n      username: name,\n      passwd: pass\n    }).then(function (res) {\n      console.log('res :', res);\n      var userId = '';\n\n      if (res.result) {\n        userId = res.data.id;\n        cookie.save('userId', res.data.id, {\n          path: '/'\n        });\n      }\n\n      setTimeout(function () {\n        return cb({\n          name: userId\n        });\n      }, 100);\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  },\n  signout: function signout(cb) {\n    this._isAuthenticated = false;\n    setTimeout(cb, 100);\n  }\n};\nexport default Auth;","map":{"version":3,"sources":["/Users/vincentchan/Documents/GitHub/online-shop/src/Auth.js"],"names":["cookie","API","Auth","_isAuthenticated","authenticate","name","pass","cb","create","username","passwd","then","res","console","log","userId","result","data","id","save","path","setTimeout","catch","err","signout"],"mappings":"AACA,OAAOA,MAAP,MAAmB,eAAnB;AACA,OAAOC,GAAP,MAAgB,kBAAhB;AAEA,IAAMC,IAAI,GAAG;AACXC,EAAAA,gBAAgB,EAAE,KADP;AAGXC,EAAAA,YAHW,wBAGEC,IAHF,EAGQC,IAHR,EAGcC,EAHd,EAGkB;AAC3B,SAAKJ,gBAAL,GAAwB,IAAxB;AAGAF,IAAAA,GAAG,CAACO,MAAJ,CAAW,QAAX,EAAqB;AACnBC,MAAAA,QAAQ,EAAGJ,IADQ;AAEnBK,MAAAA,MAAM,EAAGJ;AAFU,KAArB,EAIGK,IAJH,CAIQ,UAAAC,GAAG,EAAI;AACXC,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,GAArB;AAEA,UAAIG,MAAM,GAAG,EAAb;;AACA,UAAIH,GAAG,CAACI,MAAR,EAAgB;AACdD,QAAAA,MAAM,GAAGH,GAAG,CAACK,IAAJ,CAASC,EAAlB;AACAlB,QAAAA,MAAM,CAACmB,IAAP,CAAY,QAAZ,EAAsBP,GAAG,CAACK,IAAJ,CAASC,EAA/B,EAAmC;AAAEE,UAAAA,IAAI,EAAE;AAAR,SAAnC;AACD;;AAEDC,MAAAA,UAAU,CACR;AAAA,eACEd,EAAE,CAAC;AACDF,UAAAA,IAAI,EAAEU;AADL,SAAD,CADJ;AAAA,OADQ,EAKR,GALQ,CAAV;AAOD,KApBH,EAqBGO,KArBH,CAqBS,UAAAC,GAAG;AAAA,aAAIV,OAAO,CAACC,GAAR,CAAYS,GAAZ,CAAJ;AAAA,KArBZ;AAsBD,GA7BU;AA+BXC,EAAAA,OA/BW,mBA+BHjB,EA/BG,EA+BC;AACV,SAAKJ,gBAAL,GAAwB,KAAxB;AACAkB,IAAAA,UAAU,CAACd,EAAD,EAAK,GAAL,CAAV;AACD;AAlCU,CAAb;AAqCA,eAAeL,IAAf","sourcesContent":["\nimport cookie from 'react-cookies'\nimport API from './helpers/api.js'\n\nconst Auth = {\n  _isAuthenticated: false,\n\n  authenticate(name, pass, cb) {\n    this._isAuthenticated = true;\n \n\n    API.create(\"/login\", {\n      username : name,\n      passwd : pass,\n    })\n      .then(res => {\n        console.log('res :', res);\n        \n        var userId = '';\n        if (res.result) {\n          userId = res.data.id;\n          cookie.save('userId', res.data.id, { path: '/' })\n        }\n\n        setTimeout(\n          () =>\n            cb({\n              name: userId\n            }),\n          100\n        );\n      })\n      .catch(err => console.log(err));\n  },\n\n  signout(cb) {\n    this._isAuthenticated = false;\n    setTimeout(cb, 100);\n  }\n};\n\nexport default Auth;\n"]},"metadata":{},"sourceType":"module"}