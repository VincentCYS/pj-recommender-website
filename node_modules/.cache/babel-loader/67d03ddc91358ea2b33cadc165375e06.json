{"ast":null,"code":"import _defineProperty from \"/Users/vincentchan/Documents/GitHub/online-shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/vincentchan/Documents/GitHub/online-shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/vincentchan/Documents/GitHub/online-shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/vincentchan/Documents/GitHub/online-shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/vincentchan/Documents/GitHub/online-shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/vincentchan/Documents/GitHub/online-shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/vincentchan/Documents/GitHub/online-shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/vincentchan/Documents/GitHub/online-shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/vincentchan/Documents/GitHub/online-shop/src/Components/Menu/Menu.js\";\nimport React, { Component, Fragment } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport queryString from \"query-string\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { dataForTheMenu } from \"../../Data\";\nimport ExpandLess from \"@material-ui/icons/ExpandLess\";\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\nimport Icon from \"@material-ui/core/Icon\";\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Collapse from '@material-ui/core/Collapse';\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    showMenu: state.showMenu\n  };\n};\n\nvar ConnectedMenu =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ConnectedMenu, _Component);\n\n  function ConnectedMenu(props) {\n    var _this;\n\n    _classCallCheck(this, ConnectedMenu);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ConnectedMenu).call(this, props));\n    _this.state = {\n      // initially item with id 1 is expanded\n      expandedMenuItems: {\n        1: true\n      },\n      dataForTheMenu: dataForTheMenu\n    };\n    _this.renderMenu = _this.renderMenu.bind(_assertThisInitialized(_this));\n    return _this;\n  } // This method determines from URL whether to highlight a menu item or not\n\n\n  _createClass(ConnectedMenu, [{\n    key: \"isMenuItemActive\",\n    value: function isMenuItemActive(item, location) {\n      // If we are on the main page, and there is a query\n      // string it could be that one of product category menu items \n      // was clicked, check if that's the case, and if it is current item that was clicked.\n      if (location.pathname === \"/\" && location.search) {\n        var queryStringParsed = queryString.parse(location.search);\n        return queryStringParsed.itemCategoryClicked === \"true\" && item.name === queryStringParsed.category;\n      } // In other cases, for now, we just compare menu item url and current path\n      // to determine if menu item was clicked.\n\n\n      return item.url === location.pathname;\n    }\n  }, {\n    key: \"renderMenu\",\n    value: function renderMenu(data) {\n      var _this2 = this;\n\n      return React.createElement(List, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, data.map(function (x, i) {\n        if (!x.children) {\n          return React.createElement(NavLink, {\n            to: x.url,\n            exact: true,\n            isActive: function isActive(param, location) {\n              return _this2.isMenuItemActive(x, location);\n            },\n            style: {\n              textDecoration: \"none\",\n              color: \"rgb(32, 32, 34)\"\n            },\n            key: x.id,\n            activeStyle: {\n              color: \"#4282ad\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 67\n            },\n            __self: this\n          }, React.createElement(ListItem, {\n            dense: true,\n            button: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 80\n            },\n            __self: this\n          }, React.createElement(ListItemIcon, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 81\n            },\n            __self: this\n          }, React.createElement(Icon, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 82\n            },\n            __self: this\n          }, x.icon, \"}\")), React.createElement(ListItemText, {\n            disableTypography: true,\n            primary: React.createElement(\"div\", {\n              style: {\n                color: \"inherit\"\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 87\n              },\n              __self: this\n            }, x.name),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 85\n            },\n            __self: this\n          })));\n        } else {\n          return React.createElement(Fragment, {\n            key: x.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 93\n            },\n            __self: this\n          }, React.createElement(ListItem, {\n            button: true,\n            dense: true,\n            onClick: function onClick() {\n              // Update in state which menu items are expanded.\n              _this2.setState(function (ps) {\n                return {\n                  expandedMenuItems: _objectSpread({}, ps.expandedMenuItems, _defineProperty({}, x.id, !ps.expandedMenuItems[x.id]))\n                };\n              });\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 94\n            },\n            __self: this\n          }, React.createElement(ListItemText, {\n            primary: x.name,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 107\n            },\n            __self: this\n          }), _this2.state.expandedMenuItems[x.id] ? React.createElement(ExpandLess, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 108\n            },\n            __self: this\n          }) : React.createElement(ExpandMore, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 108\n            },\n            __self: this\n          })), React.createElement(Collapse, {\n            in: _this2.state.expandedMenuItems[x.id],\n            timeout: \"auto\",\n            unmountOnExit: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 110\n            },\n            __self: this\n          }, _this2.renderMenu(x.children)));\n        }\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.props.showMenu) return null;\n      return React.createElement(\"div\", {\n        style: {\n          backgroundColor: \"#FAFAFB\",\n          minWidth: 250\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, this.renderMenu(this.state.dataForTheMenu));\n    }\n  }]);\n\n  return ConnectedMenu;\n}(Component);\n\nvar Menu = withRouter(connect(mapStateToProps)(ConnectedMenu));\nexport default Menu;","map":{"version":3,"sources":["/Users/vincentchan/Documents/GitHub/online-shop/src/Components/Menu/Menu.js"],"names":["React","Component","Fragment","NavLink","queryString","connect","withRouter","dataForTheMenu","ExpandLess","ExpandMore","Icon","List","ListItem","ListItemIcon","ListItemText","Collapse","mapStateToProps","state","showMenu","ConnectedMenu","props","expandedMenuItems","renderMenu","bind","item","location","pathname","search","queryStringParsed","parse","itemCategoryClicked","name","category","url","data","map","x","i","children","param","isMenuItemActive","textDecoration","color","id","icon","setState","ps","backgroundColor","minWidth","Menu"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,OAAT,QAAwB,kBAAxB;AACA,OAAOC,WAAP,MAAwB,cAAxB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,cAAT,QAA+B,YAA/B;AACA,OAAOC,UAAP,MAAuB,+BAAvB;AACA,OAAOC,UAAP,MAAuB,+BAAvB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AACA,OAAOC,QAAP,MAAqB,4BAArB;;AAEA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,KAAK,EAAI;AAC/B,SAAO;AACLC,IAAAA,QAAQ,EAAED,KAAK,CAACC;AADX,GAAP;AAGD,CAJD;;IAMMC,a;;;;;AACJ,yBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,uFAAMA,KAAN;AAEA,UAAKH,KAAL,GAAa;AACX;AACAI,MAAAA,iBAAiB,EAAE;AACjB,WAAG;AADc,OAFR;AAKXd,MAAAA,cAAc,EAAdA;AALW,KAAb;AAQA,UAAKe,UAAL,GAAkB,MAAKA,UAAL,CAAgBC,IAAhB,+BAAlB;AAXiB;AAYlB,G,CAED;;;;;qCACiBC,I,EAAMC,Q,EAAU;AAE/B;AACA;AACA;AACA,UAAIA,QAAQ,CAACC,QAAT,KAAsB,GAAtB,IAA6BD,QAAQ,CAACE,MAA1C,EAAkD;AAChD,YAAIC,iBAAiB,GAAGxB,WAAW,CAACyB,KAAZ,CACtBJ,QAAQ,CAACE,MADa,CAAxB;AAIA,eACEC,iBAAiB,CAACE,mBAAlB,KAA0C,MAA1C,IAAoDN,IAAI,CAACO,IAAL,KAAcH,iBAAiB,CAACI,QADtF;AAGD,OAb8B,CAe/B;AACA;;;AACA,aAAOR,IAAI,CAACS,GAAL,KAAaR,QAAQ,CAACC,QAA7B;AACD;;;+BAEUQ,I,EAAM;AAAA;;AAEf,aAAQ,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAELA,IAAI,CACFC,GADF,CACM,UAACC,CAAD,EAAIC,CAAJ,EAAU;AAEb,YAAI,CAACD,CAAC,CAACE,QAAP,EAAiB;AACf,iBACE,oBAAC,OAAD;AACE,YAAA,EAAE,EAAEF,CAAC,CAACH,GADR;AAEE,YAAA,KAAK,MAFP;AAGE,YAAA,QAAQ,EAAE,kBAACM,KAAD,EAAQd,QAAR,EAAqB;AAAE,qBAAO,MAAI,CAACe,gBAAL,CAAsBJ,CAAtB,EAAyBX,QAAzB,CAAP;AAA2C,aAH9E;AAIE,YAAA,KAAK,EAAE;AACLgB,cAAAA,cAAc,EAAE,MADX;AAELC,cAAAA,KAAK,EAAE;AAFF,aAJT;AAQE,YAAA,GAAG,EAAEN,CAAC,CAACO,EART;AASE,YAAA,WAAW,EAAE;AACXD,cAAAA,KAAK,EAAE;AADI,aATf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAaE,oBAAC,QAAD;AAAU,YAAA,KAAK,MAAf;AAAgB,YAAA,MAAM,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACEN,CAAC,CAACQ,IADJ,MADF,CADF,EAKE,oBAAC,YAAD;AACE,YAAA,iBAAiB,MADnB;AAEE,YAAA,OAAO,EAAE;AAAK,cAAA,KAAK,EAAE;AAAEF,gBAAAA,KAAK,EAAE;AAAT,eAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAoCN,CAAC,CAACL,IAAtC,CAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALF,CAbF,CADF;AAyBD,SA1BD,MA0BO;AACL,iBACE,oBAAC,QAAD;AAAU,YAAA,GAAG,EAAEK,CAAC,CAACO,EAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE,oBAAC,QAAD;AAAU,YAAA,MAAM,MAAhB;AAAiB,YAAA,KAAK,MAAtB;AACE,YAAA,OAAO,EAAE,mBAAM;AACb;AACA,cAAA,MAAI,CAACE,QAAL,CAAc,UAAAC,EAAE,EAAI;AAClB,uBAAO;AACLzB,kBAAAA,iBAAiB,oBACZyB,EAAE,CAACzB,iBADS,sBAEde,CAAC,CAACO,EAFY,EAEP,CAACG,EAAE,CAACzB,iBAAH,CAAqBe,CAAC,CAACO,EAAvB,CAFM;AADZ,iBAAP;AAMD,eAPD;AAQD,aAXH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAaE,oBAAC,YAAD;AAAc,YAAA,OAAO,EAAEP,CAAC,CAACL,IAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAbF,EAcG,MAAI,CAACd,KAAL,CAAWI,iBAAX,CAA6Be,CAAC,CAACO,EAA/B,IAAqC,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAArC,GAAsD,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAdzD,CADF,EAiBE,oBAAC,QAAD;AAAU,YAAA,EAAE,EAAE,MAAI,CAAC1B,KAAL,CAAWI,iBAAX,CAA6Be,CAAC,CAACO,EAA/B,CAAd;AAAkD,YAAA,OAAO,EAAC,MAA1D;AAAiE,YAAA,aAAa,MAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACG,MAAI,CAACrB,UAAL,CAAgBc,CAAC,CAACE,QAAlB,CADH,CAjBF,CADF;AAuBD;AAGF,OAxDF,CAFK,CAAR;AA4DD;;;6BAGQ;AACP,UAAI,CAAC,KAAKlB,KAAL,CAAWF,QAAhB,EAA0B,OAAO,IAAP;AAC1B,aACE;AAAK,QAAA,KAAK,EAAE;AACV6B,UAAAA,eAAe,EAAE,SADP;AAEVC,UAAAA,QAAQ,EAAE;AAFA,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKG,KAAK1B,UAAL,CAAgB,KAAKL,KAAL,CAAWV,cAA3B,CALH,CADF;AASD;;;;EAhHyBN,S;;AAkH5B,IAAMgD,IAAI,GAAG3C,UAAU,CAACD,OAAO,CAACW,eAAD,CAAP,CAAyBG,aAAzB,CAAD,CAAvB;AACA,eAAe8B,IAAf","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport queryString from \"query-string\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { dataForTheMenu } from \"../../Data\";\nimport ExpandLess from \"@material-ui/icons/ExpandLess\";\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\nimport Icon from \"@material-ui/core/Icon\";\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Collapse from '@material-ui/core/Collapse';\n\nconst mapStateToProps = state => {\n  return {\n    showMenu: state.showMenu,\n  };\n};\n\nclass ConnectedMenu extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      // initially item with id 1 is expanded\n      expandedMenuItems: {\n        1: true\n      },\n      dataForTheMenu\n    };\n\n    this.renderMenu = this.renderMenu.bind(this)\n  }\n\n  // This method determines from URL whether to highlight a menu item or not\n  isMenuItemActive(item, location) {\n\n    // If we are on the main page, and there is a query\n    // string it could be that one of product category menu items \n    // was clicked, check if that's the case, and if it is current item that was clicked.\n    if (location.pathname === \"/\" && location.search) {\n      let queryStringParsed = queryString.parse(\n        location.search\n      );\n\n      return (\n        queryStringParsed.itemCategoryClicked === \"true\" && item.name === queryStringParsed.category\n      );\n    }\n\n    // In other cases, for now, we just compare menu item url and current path\n    // to determine if menu item was clicked.\n    return item.url === location.pathname;\n  }\n\n  renderMenu(data) {\n\n    return (<List\n    >\n      {data\n        .map((x, i) => {\n\n          if (!x.children) {\n            return (\n              <NavLink\n                to={x.url}\n                exact\n                isActive={(param, location) => { return this.isMenuItemActive(x, location) }}\n                style={{\n                  textDecoration: \"none\",\n                  color: \"rgb(32, 32, 34)\",\n                }}\n                key={x.id}\n                activeStyle={{\n                  color: \"#4282ad\"\n                }}\n              >\n                <ListItem dense button>\n                  <ListItemIcon>\n                    <Icon\n                    >{x.icon}}</Icon>\n                  </ListItemIcon>\n                  <ListItemText\n                    disableTypography\n                    primary={<div style={{ color: \"inherit\" }} >{x.name}</div>} />\n                </ListItem>\n              </NavLink>)\n\n          } else {\n            return (\n              <Fragment key={x.id}>\n                <ListItem button dense\n                  onClick={() => {\n                    // Update in state which menu items are expanded.\n                    this.setState(ps => {\n                      return {\n                        expandedMenuItems: {\n                          ...ps.expandedMenuItems,\n                          [x.id]: !ps.expandedMenuItems[x.id]\n                        }\n                      };\n                    });\n                  }}>\n\n                  <ListItemText primary={x.name} />\n                  {this.state.expandedMenuItems[x.id] ? <ExpandLess /> : <ExpandMore />}\n                </ListItem>\n                <Collapse in={this.state.expandedMenuItems[x.id]} timeout=\"auto\" unmountOnExit>\n                  {this.renderMenu(x.children)}\n                </Collapse>\n              </Fragment>\n            );\n          }\n\n\n        })}\n    </List >)\n  }\n\n\n  render() {\n    if (!this.props.showMenu) return null;\n    return (\n      <div style={{\n        backgroundColor: \"#FAFAFB\",\n        minWidth: 250\n      }}>\n        {/* Render our menu */}\n        {this.renderMenu(this.state.dataForTheMenu)}\n      </div>\n    );\n  }\n}\nconst Menu = withRouter(connect(mapStateToProps)(ConnectedMenu));\nexport default Menu;\n"]},"metadata":{},"sourceType":"module"}